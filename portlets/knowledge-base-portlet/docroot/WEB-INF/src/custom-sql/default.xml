<?xml version="1.0"?>

<custom-sql>
	<sql id="com.liferay.knowledgebase.service.persistence.ArticleFinder.countByMaxVersion">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				KB_Article
			[$JOIN$]
			WHERE
				[$WHERE$]
				(
					KB_Article.version IN (
						SELECT
							MAX(article1.version)
						FROM
							KB_Article article1
						WHERE
							(article1.resourcePrimKey = KB_Article.resourcePrimKey)
					)
				)
		]]>
	</sql>
	<sql id="com.liferay.knowledgebase.service.persistence.ArticleFinder.findByMaxVersion">
		<![CDATA[
			SELECT
				{KB_Article.*}
			FROM
				KB_Article
			[$JOIN$]
			WHERE
				[$WHERE$]
				(
					KB_Article.version IN (
						SELECT
							MAX(article1.version)
						FROM
							KB_Article article1
						WHERE
							(article1.resourcePrimKey = KB_Article.resourcePrimKey)
					)
				)
		]]>
	</sql>
	<sql id="com.liferay.knowledgebase.service.persistence.ArticleFinder.joinByCompanyId">
		<![CDATA[
			WHERE
				(KB_Article.companyId = ?)
		]]>
	</sql>
	<sql id="com.liferay.knowledgebase.service.persistence.ArticleFinder.joinByGroupId">
		<![CDATA[
			WHERE
				(KB_Article.groupId = ?)
		]]>
	</sql>
	<sql id="com.liferay.knowledgebase.service.persistence.ArticleFinder.joinByG_P">
		<![CDATA[
			WHERE
				(KB_Article.groupId = ?) AND
				(KB_Article.parentResourcePrimKey = ?)
		]]>
	</sql>
</custom-sql>