Liferay.Mail={init:function(B){var A=this;A._messagesPerPage=10;A.accountSelectionSelect=jQuery("#account-selection");A.composeMailLink=jQuery("#compose-mail");A.debugSpan=jQuery("#debug");A.folderDiv=jQuery("#folder");A.foldersDiv=jQuery("#folders");A.folderControlsDeleteButton=jQuery(".folder-controls .delete");A.folderControlsNewestLink=jQuery(".folder-controls .newest");A.folderControlsNewerLink=jQuery(".folder-controls .newer");A.folderControlsOlderLink=jQuery(".folder-controls .older");A.folderControlsOldestLink=jQuery(".folder-controls .oldest");A.folderControlsRefreshLink=jQuery(".folder-controls .refresh");A.folderControlsSelectAction=jQuery(".folder-controls .select-actions");A.folderControlsSelectAllLink=jQuery(".folder-controls .select-all");A.folderControlsSelectNoneLink=jQuery(".folder-controls .select-none");A.folderControlsSelectReadLink=jQuery(".folder-controls .select-read");A.folderControlsSelectUnreadLink=jQuery(".folder-controls .select-unread");A.messageControlsBackLink=jQuery(".message-controls .back");A.messageControlsDiv=jQuery(".message-controls");A.messageControlsNewerLink=jQuery(".message-controls .newer");A.messageControlsOlderLink=jQuery(".message-controls .older");A.messageControlsStatus=jQuery(".message-controls .status");A.messageDiv=jQuery("#message");A.messageListTable=jQuery("#message-list");A.messageOptionsDiv=jQuery("#message-options");A.messageOptionsRespondDivs=jQuery("#reply,#reply-all,#forward");A.messageReadDiv=jQuery("#message-read");A.messageSendDiv=jQuery("#message-send");A.messageSendDiscardButton=jQuery("#message-send .discard");A.messageSendSaveButton=jQuery("#message-send .save");A.messageSendSendButton=jQuery("#message-send .send");A.searchButton=jQuery("#search-button");A.searchTextInput=jQuery("#search-text");A.sendBccInput=jQuery("#send-bcc");A.sendBodyEditor=B.sendBodyEditor;A.sendBodySpan=jQuery("#send-body");A.sendCcInput=jQuery("#send-cc");A.sendFromSelect=jQuery("#send-from");A.sendSubjectInput=jQuery("#send-subject");A.sendToInput=jQuery("#send-to");A.statusSpan=jQuery("#status");A.readBodySpan=jQuery("#read-body");A.readCcSpan=jQuery("#read-cc");A.readDateSpan=jQuery("#read-date");A.readFromSpan=jQuery("#read-from");A.readMailedBySpan=jQuery("#read-mailed-by");A.readReplyToSpan=jQuery("#read-reply-to");A.readSubjectSpan=jQuery("#read-subject");A.readToSpan=jQuery("#read-to");A._assignEvents();A.setView("composeMessage");A.setView("viewFolder");A.loadAccounts();A.messageSendSaveButton.attr("disabled","disabled")},clearIncomingMessage:function(){var A=this;A.readFromSpan.html("");A.readReplyToSpan.html("");A.readToSpan.html("");A.readDateSpan.html("");A.readSubjectSpan.html("");A.readMailedBySpan.html("");A.readBodySpan.html("")},clearOutgoingMessage:function(){var A=this;A.sendFromSelect.val("");A.sendToInput.val("");A.sendCcInput.val("");A.sendBccInput.val("");A.sendSubjectInput.val("");A.sendBodySpan.css("visibility","hidden")},clearStatus:function(){var A=this;A.setStatus("","");A.statusSpan.css("display","none");A.debugSpan.css("display","none")},getCurrentAccountId:function(){var A=this;return A._currentAccountId},getCurrentFolder:function(){var A=this;return A._currentFolder},getCurrentFolderName:function(){var A=this;return A.getCurrentFolder().name},getCurrentMessage:function(){var A=this;return A._currentMessage},getCurrentMessageUid:function(){var A=this;return A.getCurrentMessage().uid},getCurrentPageNum:function(){var A=this;return A._currentPageNum},getFirstMessageNumOnPage:function(){var A=this;return(A.getCurrentPageNum()-1)*A.getMessagesPerPage()+1},getLastMessageNumOnPage:function(){var A=this;if(A.getTotalPages()==A.getCurrentPageNum()){return A.getTotalMessages()}else{return(A.getCurrentPageNum())*A.getMessagesPerPage()}},getMessageResponseType:function(){var A=this;return A._messageResponseType},getMessagesPerPage:function(){var A=this;return A._messagesPerPage},getNewerUid:function(){},getOlderUid:function(){},getSelectedMessageUids:function(){var A=this;var B=jQuery(".message-checkbox:checked");var C="";jQuery.each(B,function(){C+=jQuery(this).parents(".message:first").attr("messageuid")+","});return C},getTotalMessages:function(){var A=this;return A._totalMessages},getTotalPages:function(){var A=this;return A._totalPages},isSearchMode:function(){return _isSearchMode},loadAccounts:function(){var A=this;var B=themeDisplay.getLayoutURL()+"/-/mail/accounts";A.setStatus(Liferay.Language.get("loading-accounts"),B);jQuery.ajaxQueue({url:B,dataType:"json",success:function(C){A.loadJsonAccounts(C)}})},loadFolders:function(D){var A=this;A.setCurrentAccountId(D);if(A._getCachedJsonFolders(D)!=null){var B=A._getCachedJsonFolders(D);A.loadJsonFolders(B)}else{var C=themeDisplay.getLayoutURL()+"/-/mail/folders?accountId="+D;A.setStatus(Liferay.Language.get("loading-folders"),C);jQuery.ajaxQueue({url:C,dataType:"json",success:function(E){A.loadJsonFolders(E);A.accountSelectionSelect.val(D);A.sendFromSelect.val(D)}})}},loadJsonAccounts:function(C){var A=this;A.clearStatus();var B="";var E=C.accounts[0].accountId;for(i=0;i<C.accounts.length;i++){var D=C.accounts[i];var G=D.emailAddress;var F=D.accountId;B+="<option value=\"";B+=F;if(i==0){E=F;B+="\" selected=\"selected\">"}else{B+="\">"}B+=G;B+="</option>"}A.accountSelectionSelect.html(B);A.sendFromSelect.html(B);A.setCurrentAccountId(E);A.loadFolders(E)},loadJsonFolders:function(B){var A=this;A._cacheJsonFolders(A.getCurrentAccountId(),B);A.clearStatus();var E="";for(i=0;i<B.folders.length;i++){var C=B.folders[i];var D=C.name;E+="<div class=\"folder\" folderName=\""+C.name+"\"><a href=\"#\">"+C.name+"</a></div>"}A.foldersDiv.html(E);A.refreshFolderHandler();jQuery(".folder:first").click()},loadJsonMessage:function(G){var K=this;K.setCurrentMessage(G);K._cacheJsonMessage(K.getCurrentAccountId(),K.getCurrentFolderName(),G);K.clearStatus();var C=G;var B=C.uid;var I=C.from;var J=C.to;var F=C.cc;var D=C.subject;var L=C.bodyPreview;var E=C.body;var A=C.date;if(E.indexOf("<a")==-1){E=E.replace(/\r\n/g,"<br />");E=E.replace(/\n\n/g,"<br />")}var H=C.attachments;if(H!=null){if(H.length>0){E+="<br /><hr>"+H.length+" attachments<br /><ul>"}for(i=0;i<H.length;i++){E+="<li><a href=\""+themeDisplay.getLayoutURL()+"/-/mail/attachment?accountId="+K.getCurrentAccountId()+"&folderName="+K.getCurrentFolderName()+"&messageUid="+B+"&fileName="+H[i][1]+"&contentPath="+H[i][0]+"\" target=\"_blank\">"+H[i][1]+"</a>"}E+="</ul>"}K.readFromSpan.html(I);K.readReplyToSpan.html("-");K.readToSpan.html(J);K.readCcSpan.html(F);K.readDateSpan.html(A);K.readSubjectSpan.html(D);K.readMailedBySpan.html("-");K.readBodySpan.html(E);jQuery(".message-controls .folder-name").html(K.getCurrentFolderName());K.setView("viewMessage");K.refreshMessageControlsNavigation()},loadJsonMessages:function(C){var B=this;B.setTotalPages(C.pageCount);B.setTotalMessages(C.messageCount);B._cacheJsonMessages(B.getCurrentAccountId(),B.getCurrentFolderName(),B.getCurrentPageNum(),C);B.clearStatus();var A="";if(C.messages.length==0){A+="<tr><td class=\"alert\">"+Liferay.Language.get("no-messages-found")+"</td></tr>"}else{for(i=(C.messages.length-1);i>=0;i--){var D=C.messages[i];A+="<tr class=\"message "+D.read+"\" messageUid=\""+D.uid+"\">";A+="\t<td><div class=\"message-col-0\"><input type=\"checkbox\" class=\"message-checkbox\" /></div></td>";A+="\t<td><div class=\"message-col-1\"><span class=\"message-from\">"+D.from+"</span></div></td>";A+="\t<td><div class=\"message-col-2\"><span class=\"message-subject\">"+D.subject+"</span> - <span class=\"message-body-preview\">"+D.bodyPreview+"</span></div></td>";A+="\t<td><div class=\"message-col-3\"><span class=\"message-date\">"+D.date+"</span></div></td>";A+="</tr>"}}B.messageListTable.html(A);B.refreshMessageHandler();B.refreshFolderControls()},loadMessageByMsgNum:function(C){var A=this;var E=A.getCurrentFolderName();var F=A.getCurrentAccountId();if(A._getCachedJsonMessageByNum(F,E,C)!=null){var B=A._getCachedJsonMessageByNum(F,E,C);A.loadJsonMessage(B)}else{var D=themeDisplay.getLayoutURL()+"/-/mail/message_by_number?accountId="+F+"&folderName="+E+"&messageNum="+C;A.setStatus(Liferay.Language.get("loading-message"),D);jQuery.ajaxQueue({url:D,dataType:"json",success:function(G){A.loadJsonMessage(G)}})}},loadMessageByUid:function(D){var A=this;var E=A.getCurrentFolderName();var F=A.getCurrentAccountId();if(A._getCachedJsonMessageByUid(F,E,D)!=null){var B=A._getCachedJsonMessageByUid(F,E,D);A.loadJsonMessage(B)}else{var C=themeDisplay.getLayoutURL()+"/-/mail/message_by_uid?accountId="+F+"&folderName="+E+"&messageUid="+D;A.setStatus(Liferay.Language.get("loading-message"),C);jQuery.ajaxQueue({url:C,dataType:"json",success:function(G){A.loadJsonMessage(G)}})}},loadMessages:function(E,D){var A=this;A.setCurrentPageNum(D);A.setCurrentFolderByName(E);var F=A.getCurrentAccountId();if(A._getCachedJsonMessages(F,E,D)!=null){var C=A._getCachedJsonMessages(F,E,D);A.loadJsonMessages(C);A.preloadMessages(E,D+1)}else{var B=themeDisplay.getLayoutURL()+"/-/mail/messages?accountId="+F+"&folderName="+E+"&pageNum="+D+"&messagesPerPage="+A.getMessagesPerPage();A.setStatus(Liferay.Language.get("loading-messages"),B);jQuery.ajaxQueue({url:B,dataType:"json",success:function(G){A.loadJsonMessages(G)}})}},loadSearchResults:function(E,D,B){var A=this;A.setCurrentPageNum(D);A.setCurrentFolderByName(E);var F=A.getCurrentAccountId();var C=themeDisplay.getLayoutURL()+"/-/mail/messages_by_search?accountId="+F+"&folderName="+E+"&pageNum="+D+"&messagesPerPage="+A.getMessagesPerPage()+"&searchString="+B;A.setStatus(Liferay.Language.get("loading-messages"),C);jQuery.ajaxQueue({url:C,dataType:"json",success:function(G){A.loadJsonMessages(G)}})},preloadMessages:function(D,C){var A=this;var E=A.getCurrentAccountId();if(A._getCachedJsonMessages(E,D,C)==null){var B=themeDisplay.getLayoutURL()+"/-/mail/messages?accountId="+E+"&folderName="+D+"&pageNum="+C+"&messagesPerPage="+A.getMessagesPerPage();jQuery.ajaxQueue({url:B,dataType:"json",success:function(F){A._cacheJsonMessages(E,D,C,F)}})}},refreshFolderControls:function(){var A=this;A.folderControlsNewestLink.css("display","inline");A.folderControlsNewerLink.css("display","inline");A.folderControlsOlderLink.css("display","inline");A.folderControlsOldestLink.css("display","inline");if(A.getCurrentPageNum()==1){A.folderControlsNewestLink.css("display","none");A.folderControlsNewerLink.css("display","none")}if(A.getCurrentPageNum()==2){A.folderControlsNewestLink.css("display","none")}if(A.getCurrentPageNum()==A.getTotalPages()-1){A.folderControlsOldestLink.css("display","none")}if(A.getCurrentPageNum()==A.getTotalPages()){A.folderControlsOlderLink.css("display","none");A.folderControlsOldestLink.css("display","none")}jQuery(".folder-controls .status").html("<span class=\"status-number\">"+A.getFirstMessageNumOnPage()+" - "+A.getLastMessageNumOnPage()+"</span> of <span class=\"status-number\">"+A.getTotalMessages()+"</span>");A.folderControlsSelectAction.val("none")},refreshFolderHandler:function(){var A=this;jQuery(".folder").click(function(){var C=jQuery(this);var B=C.attr("folderName");A.setSearchMode(false);A.loadMessages(B,1);A.setView("viewFolder");jQuery(".folder").css("background-color","#FFFFFF");A.composeMailLink.css("background-color","#FFFFFF");C.css("background-color","#C3D9FF");return false})},refreshFolders:function(B){var A=this;if(B){A._flushCachedJsonFolders()}A.setStatus(Liferay.Language.get("refreshing-account"),"");A.loadFolders(A.getCurrentAccountId())},refreshMessageControlsNavigation:function(){var A=this;A.messageControlsNewerLink.css("display","inline");A.messageControlsOlderLink.css("display","inline");if(A.getCurrentMessage().messageNumber==A.getTotalMessages()){A.messageControlsNewerLink.css("display","none");A.messageControlsOlderLink.css("display","inline")}if(A.getCurrentMessage().messageNumber==1){A.messageControlsNewerLink.css("display","inline");A.messageControlsOlderLink.css("display","none")}var B=parseInt(A.getTotalMessages())-parseInt(A.getCurrentMessage().messageNumber)+1;A.messageControlsStatus.html("<span class=\"status-number\">"+B+"</span> of <span class=\"status-number\">"+A.getTotalMessages()+"</span>")},refreshMessageHandler:function(){var A=this;jQuery(".message td:not(:first-child)").click(function(){var B=jQuery(this).parent(".message:first").attr("messageUid");A.loadMessageByUid(B);A.setView("viewMessage");return false})},refreshMessages:function(B){var A=this;if(B){A._flushCachedJsonMessages()}A.setStatus(Liferay.Language.get("refreshing-folder"),"");A.loadMessages(A.getCurrentFolderName(),A.getCurrentPageNum())},setCurrentAccountId:function(B){var A=this;A._currentAccountId=B},setCurrentFolderByName:function(B){var A=this;A._currentFolder=A._getCachedJsonFolder(A.getCurrentAccountId(),B)},setCurrentMessage:function(B){var A=this;A._currentMessage=B},setCurrentPageNum:function(B){var A=this;A._currentPageNum=B},setMessageResponseType:function(B){var A=this;A._messageResponseType=B},setSearchMode:function(A){_isSearchMode=A},setStatus:function(B,C){var A=this;A.statusSpan.css("display","inline");A.statusSpan.html(B);A.debugSpan.html(C)},setTotalMessages:function(B){var A=this;A._totalMessages=B},setTotalPages:function(B){var A=this;A._totalPages=B},setView:function(C){var A=this;A.folderDiv.css("display","none");A.messageDiv.css("display","none");A.messageControlsDiv.css("display","none");A.messageReadDiv.css("display","none");A.messageOptionsDiv.css("display","none");A.messageSendDiv.css("display","none");if(C=="viewFolder"){A.clearIncomingMessage();A.folderDiv.css("display","block")}else{A.clearOutgoingMessage();A.messageDiv.css("display","block");jQuery("#message-options td").css("background-color","#F7F7F7");if(C=="viewMessage"){A.messageControlsDiv.css("display","block");A.messageReadDiv.css("display","block");A.messageOptionsDiv.css("display","block")}else{if(C=="replyMessage"){A.messageControlsDiv.css("display","block");A.messageReadDiv.css("display","block");A.messageOptionsDiv.css("display","block");A.messageSendDiv.css("display","block")}else{if(C=="composeMessage"){A.messageSendDiv.css("display","block");try{A.sendBodySpan.css("visibility","visible");A.sendBodyEditor.setHTML("")}catch(B){}}}}}},_assignEvents:function(){var A=this;A.accountSelectionSelect.change(function(){var B=jQuery(this).val();A.loadFolders(B)});A.composeMailLink.click(function(){A.setView("composeMessage");A.setMessageResponseType("new");jQuery(".folder").css("background-color","#FFFFFF");A.composeMailLink.css("background-color","#FFFFFF");A.composeMailLink.css("background-color","#C3D9FF");return false});A.folderControlsDeleteButton.click(function(){var C=A.getSelectedMessageUids();var B=themeDisplay.getLayoutURL()+"/-/mail/messages_delete_by_uid?accountId="+A.getCurrentAccountId()+"&folderName="+A.getCurrentFolderName()+"&messageUids="+C;A.setStatus(Liferay.Language.get("deleting-messages"),B);jQuery.ajaxQueue({url:B,dataType:"json",success:function(D){A.refreshMessages(true);A.setStatus(Liferay.Language.get("messages-have-been-deleted"),B)}})});A.folderControlsNewerLink.click(function(){var B=parseInt(A.getCurrentPageNum())-1;if(A.isSearchMode()){A.loadSearchResults(A.getCurrentFolderName(),B,A.searchTextInput.val())}else{A.loadMessages(A.getCurrentFolderName(),B)}return false});A.folderControlsNewestLink.click(function(){var B=1;if(A.isSearchMode()){A.loadSearchResults(A.getCurrentFolderName(),B,A.searchTextInput.val())}else{A.loadMessages(A.getCurrentFolderName(),B)}return false});A.folderControlsOlderLink.click(function(){var B=parseInt(A.getCurrentPageNum())+1;if(A.isSearchMode()){A.loadSearchResults(A.getCurrentFolderName(),B,A.searchTextInput.val())}else{A.loadMessages(A.getCurrentFolderName(),B)}return false});A.folderControlsOldestLink.click(function(){var B=parseInt(A.getTotalPages());if(A.isSearchMode()){A.loadSearchResults(A.getCurrentFolderName(),B,A.searchTextInput.val())}else{A.loadMessages(A.getCurrentFolderName(),B)}return false});A.folderControlsRefreshLink.click(function(){A.refreshMessages(true);return false});A.folderControlsSelectAction.change(function(){var D=jQuery(this).val();if((D!="read")&&(D!="unread")){A.refreshFolderControls();return false}var C=A.getSelectedMessageUids();if(C==""){A.refreshFolderControls();A.setStatus(Liferay.Language.get("no-messages-selected"),"");return false}var B;if(D=="read"){var B=themeDisplay.getLayoutURL()+"/-/mail/messages_mark_as_read?accountId="+A.getCurrentAccountId()+"&folderName="+A.getCurrentFolderName()+"&messageUids="+C+"&isRead=true";A.setStatus(Liferay.Language.get("marking-messages-as-read"),B)}else{if(D=="unread"){var B=themeDisplay.getLayoutURL()+"/-/mail/messages_mark_as_read?accountId="+A.getCurrentAccountId()+"&folderName="+A.getCurrentFolderName()+"&messageUids="+C+"&isRead=false";A.setStatus(Liferay.Language.get("marking-messages-as-unread"),B)}}jQuery.ajaxQueue({url:B,dataType:"json",success:function(E){A.refreshMessages(true);A.refreshFolderControls()}})});A.folderControlsSelectAllLink.click(function(){jQuery(".message-checkbox").attr("checked","true");return false});A.folderControlsSelectNoneLink.click(function(){jQuery(".message-checkbox").attr("checked","");return false});A.folderControlsSelectReadLink.click(function(){jQuery(".read .message-checkbox").attr("checked","true");jQuery(".unread .message-checkbox").attr("checked","");return false});A.folderControlsSelectUnreadLink.click(function(){jQuery(".read .message-checkbox").attr("checked","");jQuery(".unread .message-checkbox").attr("checked","true");return false});A.messageControlsBackLink.click(function(){A.setView("viewFolder");return false});A.messageControlsNewerLink.click(function(){A.setView("viewMessage");A.loadMessageByMsgNum(parseInt(A.getCurrentMessage().messageNumber,10)+1);return false});A.messageControlsOlderLink.click(function(){A.setView("viewMessage");A.loadMessageByMsgNum(parseInt(A.getCurrentMessage().messageNumber,10)-1);return false});A.messageOptionsRespondDivs.click(function(){A.setView("replyMessage");jQuery(this).css("background-color","#C3D9FF");var D=A.getCurrentMessage();var C=D.uid;var H=D.from;var K=D.to;var F=D.cc;var E=D.subject;var G=D.body;var B=D.date;var J=false;if(jQuery(this).attr("id")=="forward"){A.setMessageResponseType("forward");A.sendSubjectInput.val("Fwd: "+E);if(!J){var I="<br /><br />---------- Forwarded message ----------<br />";I+="From: "+H+"<br />";I+="Date: "+B+"<br />";I+="Subject: "+E+"<br />";I+="To: "+K+"<br /><br />";A.sendBodySpan.css("visibility","visible");A.sendBodyEditor.setHTML(I+G)}}else{A.setMessageResponseType("reply");A.sendSubjectInput.attr("value","Re: "+E);if(jQuery(this).attr("id")=="reply"){A.sendToInput.attr("value",H)}else{if(jQuery(this).attr("id")=="reply-all"){A.sendToInput.attr("value",H);A.sendCcInput.attr("value",K+","+F)}else{alert("Unknown Message Response Type.  Reply? Reply All? Forward?")}}if(!J){var L="<br /><br />On "+B+", <"+H+"> wrote:<br /><br />";A.sendBodySpan.css("visibility","visible");A.sendBodyEditor.setHTML(L+G)}}});A.messageSendDiscardButton.click(function(){A.setView("viewMessage");A.setStatus(Liferay.Language.get("your-message-was-discarded"),"")});A.messageSendSendButton.click(function(){var C="/c/mail/message_send";var E="";var B=0;if(A.getMessageResponseType()!="new"){E=A.getCurrentFolderName();B=A.getCurrentMessage().uid}var D=A.sendFromSelect.val();A.setStatus(Liferay.Language.get("sending-message"),C);jQuery.post(C,{accountId:D,content:A.sendBodyEditor.getHTML(),folderName:E,messageUid:B,responseType:A.getMessageResponseType(),subject:A.sendSubjectInput.val(),fromAccountId:D,recipientTo:A.sendToInput.val(),recipientCc:A.sendCcInput.val(),recipientBcc:A.sendBccInput.val()},function(F){A.setView("viewFolder");A.setStatus(Liferay.Language.get("your-message-was-sent"),F)})});A.searchButton.click(function(){A.setSearchMode(true);A.loadSearchResults(A.getCurrentFolderName(),1,A.searchTextInput.val());jQuery(".folder").css("background-color","#FFFFFF");A.composeMailLink.css("background-color","#FFFFFF")})},_cacheJsonFolders:function(C,B){var A=this;A._jsonFolders[C]=B},_cacheJsonMessage:function(D,C,B){var A=this;A._jsonMessage[D+"."+C+".num"+B.messageNumber]=B;A._jsonMessage[D+"."+C+".uid"+B.uid]=B},_cacheJsonMessages:function(E,D,C,B){var A=this;A._jsonMessages[E+"."+D+"."+C]=B},_flushCachedJsonFolders:function(){var A=this;A._jsonFolders=new Object()},_flushCachedJsonMessages:function(){var A=this;A._jsonMessages=new Object()},_getCachedJsonFolder:function(F,E){var A=this;try{for(i=0;i<A._jsonFolders[F].folders.length;i++){var D=A._jsonFolders[F].folders[i];var C=D.name;if(C==E){return D}}}catch(B){return null}},_getCachedJsonFolders:function(C){var A=this;try{if(A._jsonFolders[C]==undefined){return null}else{return A._jsonFolders[C]}}catch(B){return null}},_getCachedJsonMessageByNum:function(E,D,C){var A=this;try{if(A._jsonMessage[E+"."+D+".num"+C]==undefined){return null}else{return A._jsonMessage[E+"."+D+".num"+C]}}catch(B){return null}},_getCachedJsonMessageByUid:function(E,D,C){var A=this;try{if(A._jsonMessage[E+"."+D+".uid"+C]==undefined){return null}else{return A._jsonMessage[E+"."+D+".uid"+C]}}catch(B){return null}},_getCachedJsonMessages:function(E,D,C){var A=this;try{if(A._jsonMessages[E+"."+D+"."+C]==undefined){return null}else{return A._jsonMessages[E+"."+D+"."+C]}}catch(B){return null}},_currentAccountId:null,_currentFolderName:null,_currentPageNum:null,_currentMessage:null,_isSearchMode:false,_accounts:null,_messagesPerPage:0,_messageResponseType:null,_totalMessages:null,_totalPages:null,_uidList:null,_jsonFolders:{},_jsonMessages:{},_jsonMessage:{}};jQuery.ajaxQueue=function(B){var A=B.complete;B.complete=function(){if(A){A.apply(this,arguments)}jQuery.dequeue(jQuery.ajaxQueue,"ajax")};jQuery([jQuery.ajaxQueue]).queue("ajax",function(){jQuery.ajax(B)})}