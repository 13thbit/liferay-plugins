<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:ice="http://www.icesoft.com/icefaces/component" xmlns:ui="http://java.sun.com/jsf/facelets">
	<ice:portlet>
		<ice:form styleClass="sample-icefaces-portlet">
			<f:loadBundle basename="Language" var="msgs" />
			<ice:outputStyle href="../css/icefaces-override.css" />
			<ice:outputStyle href="../css/icefaces-showcase.css" />
			<ice:outputStyle href="../css/portlet-override.css" />
			<ice:outputStyle href="/xmlhttp/css/xp/xp-portlet.css" />
			<ice:panelCollapsible expanded="true" rendered="#{customerListModel.selected != null}">
				<f:facet name="header">
					<ice:panelGroup styleClass="iconPlaceHolder">
						<ice:outputText value="#{msgs.customer}" />
					</ice:panelGroup>
				</f:facet>
				<ice:panelGrid columns="3">
					<ice:outputLabel for="firstName" value="#{msgs.firstName}" />
					<ice:inputText id="firstName" partialSubmit="true" required="true" value="#{customerListModel.selected.firstName}"
						valueChangeListener="#{customerListModel.valueChangeListener}" />
					<ice:message for="firstName" />
					<ice:outputLabel for="lastName" value="#{msgs.lastName}" />
					<ice:inputText id="lastName" partialSubmit="true" required="true" value="#{customerListModel.selected.lastName}"
						valueChangeListener="#{customerListModel.valueChangeListener}" />
					<ice:message for="lastName" />
				</ice:panelGrid>
			</ice:panelCollapsible>
			<ui:repeat value="#{customerListModel.selected.bookings}" var="booking">
				<ice:panelCollapsible expanded="true">
					<f:facet name="header">
						<ice:panelGroup styleClass="iconPlaceHolder">
							<ice:outputText value="#{msgs.booking}" />
						</ice:panelGroup>
					</f:facet>
					<ice:panelGrid columns="3">
						<ice:outputLabel for="bookingTypeId" value="#{msgs.bookingTypeId}" />
						<ice:selectOneMenu partialSubmit="true" required="true" value="#{booking.bookingTypeId}">
							<f:selectItem itemLabel="#{msgs.select}" itemValue="" />
							<f:selectItems value="#{listSupport.selectItems}" />
						</ice:selectOneMenu>
						<ice:message for="bookingTypeId" />
						<ice:outputLabel for="startDate" value="#{msgs.startDate}" />
						<ice:selectInputDate partialSubmit="true" renderAsPopup="true" required="true" value="#{booking.startDate}" />
						<ice:message for="startDate" />
						<ice:outputLabel for="finishDate" value="#{msgs.finishDate}" />
						<ice:selectInputDate partialSubmit="true" renderAsPopup="true" required="true" value="#{booking.finishDate}" />
						<ice:message for="finishDate" />
					</ice:panelGrid>
				</ice:panelCollapsible>
			</ui:repeat>
		</ice:form>
	</ice:portlet>
</f:view>