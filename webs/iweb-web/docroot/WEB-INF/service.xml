<?xml version="1.0"?>
<!DOCTYPE service-builder PUBLIC "-//Liferay//DTD Service Builder 5.0.0//EN" "http://www.liferay.com/dtd/liferay-service-builder_5_0_0.dtd">

<service-builder package-path="com.liferay.portal.iweb">
	<namespace>IWEB</namespace>

	<entity name="Community" local-service="true"
		remote-service="false">
		<column name="cid" type="long" primary="true" />
		<column name="type" type="int" />
		<column name="semantics" type="Collection" entity="Semantics"
			mapping-table="Communities_Semantics" />
	</entity>

	<entity name="IWebCallBack" local-service="true"
		remote-service="false">

		<reference package-path="com.liferay.portlet.blogs"
			entity="BlogsEntry" />
		<reference package-path="com.liferay.portlet.wiki"
			entity="WikiNode" />
		<reference package-path="com.liferay.portlet.wiki"
			entity="WikiPage" />
		<reference package-path="com.liferay.portal" entity="Group" />
		<reference package-path="com.liferay.portal" entity="User" />
	</entity>

	<entity name="IWeb" local-service="true" remote-service="true">
	</entity>

	<entity name="Post" local-service="true" remote-service="false">
		<column name="uid" type="long" primary="true" />
		<column name="pid" type="long" />
		<column name="type" type="String" />
		<column name="communityid" type="long" />
		<column name="semanticselements" type="Collection"
			entity="SemanticsElement" mapping-table="Posts_SemanticsElements"/>
		<finder name="Id_Type" return-type="Post">
			<finder-column name="pid" />
			<finder-column name="type" />
		</finder>
		<reference package-path="com.liferay.counter" entity="Counter" />
	</entity>

	<entity name="Semantics" local-service="true"
		remote-service="false">
		<column name="semanticsName" type="String" />
		<column name="semanticsURI" type="String" primary="true" />
		<column name="createdInCommunity" type="long" />
		<column name="communities" type="Collection" entity="Community"
			mapping-table="Communities_Semantics" />
		<finder name="CreatedInCommunity" return-type="Collection">
			<finder-column name="createdInCommunity" />
		</finder>
	</entity>

	<entity name="SemanticsElement" local-service="true"
		remote-service="false">
		<column name="elementURI" type="String" primary="true" />
		<column name="semanticsURI" type="String" />
		<column name="posts" type="Collection" entity="Post"
			mapping-table="Posts_SemanticsElements" />
	</entity>

	<entity name="CrossContainer" local-service="true"
		remote-service="false">
	</entity>

	<exceptions>
		<exception>IWeb</exception>
	</exceptions>

</service-builder>